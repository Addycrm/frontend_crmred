(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e184b"],{"7b7a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"RolesPermisos"}},[a("b-container",[a("b-overlay",{attrs:{show:t.overlay}},t._l(t.goodTable,(function(e,o){return a("b-card",{key:o,scopedSlots:t._u([{key:"header",fn:function(){return[a("h2",{staticClass:"mb-1 mr-2"},[t._v(" "+t._s(e.titulo)+" ")]),e.btn?a("div",{staticClass:"d-flex align-items-center mr-auto"},[a("b-button",{staticClass:"text-nowrap d-flex align-items-center mb-1",attrs:{size:"md",variant:e.btn.variant},on:{click:function(a){return t.openModal(e.btn.modal)}}},[a("span",{staticClass:"align-middle"},[t._v(t._s(e.btn.texto))])])],1):t._e()]},proxy:!0}],null,!0)},[a("VueGoodTable",t._b({attrs:{styleClass:"vgt-table striped","search-options":{enabled:!0,placeholder:"Buscar..."}},scopedSlots:t._u([{key:"table-row",fn:function(o){return["nombre"===o.column.field?a("span",[a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"title-tab",attrs:{title:o.formattedRow[o.column.field]}},[t._v(" "+t._s(o.formattedRow[o.column.field])+" ")])]):"descripcion"===o.column.field?a("span",{staticClass:"d-flex flex-wrap"},[a("div",{domProps:{innerHTML:t._s(o.formattedRow[o.column.field])}})]):"actions"===o.column.field?a("span",{staticClass:"d-flex flex-wrap"},t._l(o.formattedRow[o.column.field],(function(e){return a("b-badge",{key:e.id,style:{margin:"5px"},attrs:{variant:"light-primary"}},[t._v(" "+t._s(e.title)+" ")])})),1):"settings"===o.column.field?a("span",{staticClass:"d-flex"},[t._l(e.config.btn,(function(e,n){return[a("b-button",{key:n,style:{margin:"5px"},attrs:{size:"sm",variant:e.variant},on:{click:function(a){return t.openModal(e.modal,o.row)}}},[t._v(" "+t._s(e.texto)+" ")])]}))],2):a("span",[t._v(" "+t._s(o.formattedRow[o.column.field])+" ")])]}},{key:"pagination-bottom",fn:function(o){return[a("div",{staticClass:"d-flex flex-wrap align-items-center mt-1"},[a("div",{staticClass:"d-flex align-items-center"},[a("span",{staticClass:"text-nowrap"},[t._v(" Mostrando 1 a ")]),a("b-form-select",{staticClass:"mx-1",attrs:{options:["10","20","100"]},on:{input:function(t){return o.perPageChanged({currentPerPage:t})}},model:{value:e.tabla.paginationOptions.perPage,callback:function(a){t.$set(e.tabla.paginationOptions,"perPage",a)},expression:"item.tabla.paginationOptions.perPage"}}),a("span",{staticClass:"text-nowrap"},[t._v(" de "+t._s(o.total)+" registros ")])],1),o.total>e.tabla.paginationOptions.perPage?a("div",{staticClass:"d-flex ml-auto"},[a("b-pagination",{staticClass:"mb-0",attrs:{value:1,"total-rows":o.total,"per-page":e.tabla.paginationOptions.perPage,"first-number":"","last-number":"",align:"right","prev-class":"prev-item","next-class":"next-item"},on:{input:function(t){return o.pageChanged({currentPage:t})}},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}],null,!0)})],1):t._e()])]}}],null,!0)},"VueGoodTable",e.tabla,!1))],1)})),1)],1),a("transition",{attrs:{name:"fade"}},[t.modal.state?a("v-modal",{attrs:{titulo:t.modal.titulo,size:t.modal.size,footer:t.modal.footer},on:{close:function(e){t.modal.state=!1}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("b-overlay",{attrs:{show:t.overlay}},[a("b-button",{attrs:{variant:"success",disabled:t.overlay},on:{click:t.onSubmit}},[t._v(" "+t._s(t.modal.prop.row?"Guardar":"Crear")+" ")])],1)]},proxy:!0}],null,!1,1927607085)},[a(t.modal.is,t._b({ref:"modal",tag:"component"},"component",t.modal.prop,!1))],1):t._e()],1)],1)},n=[],i=a("c7eb"),s=a("1da1"),l=a("a2f9"),r=a("138a"),p=a("f617"),c=a("50eb"),d=a("7a36"),u={name:"RoleList",mixins:[l["a"]],components:{VModal:r["a"],VueGoodTable:p["a"],ModalRoles:c["a"],ModalPermisosRoles:d["a"]},data:function(){return{overlay:!1,modal:{state:!1},apiOptions:[{api:"appRole/getRolesForUser",data:{}},{api:"appRole/getRoles",data:{}}]}},computed:{appRoles:function(){return this.$store.state.appRole},goodTable:function(){return[{titulo:"Tus Roles y Permisos",btn:{texto:"Crear Role",variant:"info",modal:{titulo:"Crear Role",is:"ModalRoles",prop:{type:"private",inputs:{nombre:{label:"Nombre",value:null},descripcion:{label:"Descripci贸n",type:"textarea",value:null}}}}},config:{prop:"",btn:[{texto:"Editar Role",variant:"success",modal:{nombre:"Editar Role",is:"ModalRoles",prop:{type:"private",inputs:{nombre:{label:"Nombre",value:null},descripcion:{label:"Descripci贸n",type:"textarea",value:null}}}}},{texto:"Editar Permisos",variant:"warning",modal:{titulo:"Editar Permisos",is:"ModalPermisosRoles"}}]},tabla:{columns:[{field:"id",label:"ID",width:"6em"},{field:"nombre",label:"Nombre",width:"18em"},{field:"descripcion",label:"Descripci贸n"},{field:"settings",label:"Ajustes",width:"22em"}],rows:this.appRoles.role_users,paginationOptions:{enabled:!0,perPage:10}}},{titulo:"Roles Predeterminado",tabla:{columns:[{field:"id",label:"ID",width:"6em"},{field:"nombre",label:"Nombre",width:"18em"},{field:"descripcion",label:"Descripci贸n"}],rows:this.appRoles.roles,paginationOptions:{enabled:!0,perPage:10}}}]}},mounted:function(){this.initApis(this.apiOptions)},methods:{onSubmit:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.overlay=!0,e.next=3,t.$refs["modal"].onSubmit().then((function(e){t.modal.state=!e}));case 3:t.overlay=!1;case 4:case"end":return e.stop()}}),e)})))()},openModal:function(t,e){if(t.prop||Object.assign(t,{prop:{}}),void 0==t.footer&&Object.assign(t,{footer:!0}),e&&(Object.assign(t.prop,{row:e}),t.prop.inputs))for(var a in t.prop.inputs)Object.assign(t.prop.inputs[a],{value:e[a]});Object.assign(this.modal,{state:!0},t)}}},m=u,b=a("2877"),f=Object(b["a"])(m,o,n,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0e184b.7add3e67.js.map