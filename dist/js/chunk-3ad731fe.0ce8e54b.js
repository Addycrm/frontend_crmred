(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ad731fe"],{"057b":function(a,e,t){},"762d":function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("b-card",[t("b-tabs",{attrs:{pills:""}},[t("b-tab",{attrs:{active:""},scopedSlots:a._u([{key:"title",fn:function(){return[t("feather-icon",{staticClass:"mr-0 mr-sm-50",attrs:{icon:"UserIcon",size:"16"}}),t("span",{staticClass:"d-none d-sm-inline"},[a._v("Datos basicos")])]},proxy:!0}])},[t("b-row",[t("b-col",{staticClass:"mb-2",attrs:{cols:"12",sm:"6"}},[t("b-media",{staticClass:"mb-2",scopedSlots:a._u([{key:"aside",fn:function(){return[t("b-avatar",{attrs:{src:a.imageData,size:"90px",rounded:""}})]},proxy:!0}])},[t("h4",{staticClass:"mb-1"},[a._v("Editar perfiles")]),t("b-form-file",{ref:"file-input",staticClass:"mb-2",attrs:{placeholder:"click para seleccionar una imagen","browse-text":"Cargar"},on:{change:a.previewImage}})],1)],1)],1),t("user-edit-tab-account",{staticClass:"mt-2 pt-75",attrs:{userdata:a.userdatas}})],1),t("b-tab",{scopedSlots:a._u([{key:"title",fn:function(){return[t("feather-icon",{staticClass:"mr-0 mr-sm-50",attrs:{icon:"InfoIcon",size:"16"}}),t("span",{staticClass:"d-none d-sm-inline"},[a._v("Descripcion")])]},proxy:!0}])},[t("user-edit-tab-information",{staticClass:"mt-2 pt-75",attrs:{userdata:a.userdatas}})],1),t("b-tab",{scopedSlots:a._u([{key:"title",fn:function(){return[t("feather-icon",{staticClass:"mr-0 mr-sm-50",attrs:{icon:"Share2Icon",size:"16"}}),t("span",{staticClass:"d-none d-sm-inline"},[a._v("Redes sociales")])]},proxy:!0}])},[t("user-edit-tab-social",{staticClass:"mt-2 pt-75",attrs:{userdata:a.userdatas}})],1)],1),t("b-row",{staticClass:"mt-2"},[t("b-col",[t("b-button",{staticClass:"mb-1 mb-sm-0 mr-0 mr-sm-1",attrs:{variant:"primary"},on:{click:function(e){return a.enviarData()}}},[a._v(" Guardar cambios ")])],1)],1)],1)},o=[],r=t("c7eb"),i=t("1da1"),n=(t("e9c4"),t("b64b"),t("6190")),l=t("f902"),d=t("205f"),u=t("5fda"),c=t("aa59"),p=t("1947"),m=t("b28b"),b=t("c43f"),f=t("a15b"),_=t("34b6"),h=t("e8a3"),g=t("223c"),v=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("b-form",[t("b-row",[t("b-col",{attrs:{cols:"12",md:"8"}},[t("b-form-group",{attrs:{label:"* Nombre Completo","label-for":"primer_nombre"}},[t("b-form-input",{attrs:{id:"primer_nombre"},model:{value:a.userdata.primer_nombre,callback:function(e){a.$set(a.userdata,"primer_nombre",e)},expression:"userdata.primer_nombre"}})],1)],1),t("b-col",{attrs:{cols:"12",md:"4"}},[t("b-form-group",{attrs:{label:"Correo","label-for":"email"}},[t("b-form-input",{attrs:{id:"email",type:"email"},model:{value:a.userdata.email,callback:function(e){a.$set(a.userdata,"email",e)},expression:"userdata.email"}})],1)],1),t("b-col",{attrs:{cols:"12",md:"4"}},[t("b-form-group",{attrs:{label:"","label-for":"v-whatsapp"}},[a._v(" * WhatsApp "),t("vue-phone-number-input",{attrs:{"default-country-code":"CO",translations:{countrySelectorLabel:"Codigo pais",countrySelectorError:"Choisir un pays",phoneNumberLabel:"Numéro de WhatsApp",example:"Ejemplo :"}},on:{update:function(e){a.results=e}},model:{value:a.userdata.celular_whatsapp,callback:function(e){a.$set(a.userdata,"celular_whatsapp",e)},expression:"userdata.celular_whatsapp"}})],1)],1),t("b-col",{attrs:{cols:"12",md:"4"}},[t("b-form-group",{attrs:{label:"* Telefono de contacto","label-for":"v-celular"}},[t("vue-phone-number-input",{attrs:{"default-country-code":"CO",translations:{countrySelectorLabel:"Codigo pais",countrySelectorError:"Choisir un pays",phoneNumberLabel:"Numéro de Celular",example:"Ejemplo :"}},on:{update:function(e){a.results=e}},model:{value:a.userdata.celular_movil,callback:function(e){a.$set(a.userdata,"celular_movil",e)},expression:"userdata.celular_movil"}})],1)],1),t("b-col",{attrs:{cols:"12",md:"4"}},[t("b-form-group",{attrs:{label:"Direccion","label-for":"direccion_persona"}},[t("b-form-input",{attrs:{id:"direccion_persona",type:"text"},model:{value:a.userdata.direccion_persona,callback:function(e){a.$set(a.userdata,"direccion_persona",e)},expression:"userdata.direccion_persona"}})],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Seleccionar pais"}},[t("b-form-select",{attrs:{options:a.paises,"value-field":"id","text-field":"name","disabled-field":"notEnabled"},on:{input:function(e){return a.getStates()}},model:{value:a.userdata.codigo_pais,callback:function(e){a.$set(a.userdata,"codigo_pais",e)},expression:"userdata.codigo_pais"}})],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Seleccionar estado"}},[t("b-form-select",{attrs:{options:a.estados,"value-field":"id","text-field":"name","disabled-field":"notEnabled"},on:{input:function(e){return a.getCiudades()}},model:{value:a.userdata.codigo_estado,callback:function(e){a.$set(a.userdata,"codigo_estado",e)},expression:"userdata.codigo_estado"}})],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"Seleccionar ciudad"}},[t("b-form-select",{attrs:{options:a.ciudades,"value-field":"id","text-field":"name","disabled-field":"notEnabled"},model:{value:a.userdata.codigo_ciudad,callback:function(e){a.$set(a.userdata,"codigo_ciudad",e)},expression:"userdata.codigo_ciudad"}})],1)],1),t("b-col",{attrs:{cols:"12",md:"6",lg:"4"}},[t("b-form-group",{attrs:{label:"Genero","label-for":"gender","label-class":"mb-1"}},[t("b-form-radio",{attrs:{name:"some-radios",value:"1"},model:{value:a.userdata.genero,callback:function(e){a.$set(a.userdata,"genero",e)},expression:"userdata.genero"}},[a._v("Masculino")]),t("b-form-radio",{attrs:{name:"some-radios",value:"2"},model:{value:a.userdata.genero,callback:function(e){a.$set(a.userdata,"genero",e)},expression:"userdata.genero"}},[a._v("Femenino")])],1)],1)],1)],1)],1)},k=[],C=t("8226"),x=t("4797"),B=t("11de"),w=t("29a1"),$=t("b885"),F=t("4968"),O=t("c3e6"),y=t("2924"),E=t("8361"),j=t("9e14"),D=t("4a7a"),I=t.n(D),S={components:{BButton:p["a"],BMedia:_["a"],BAvatar:h["a"],BRow:f["a"],BCol:m["a"],BFormGroup:C["a"],BFormInput:x["a"],BForm:B["a"],BTable:w["a"],BCard:d["a"],BCardHeader:$["a"],BCardTitle:F["a"],BFormCheckbox:O["a"],BFormRadioGroup:y["a"],vSelect:I.a,BFormFile:b["a"],BFormSelect:E["a"],BFormRadio:j["a"]},props:{userdata:{type:Object,required:!0}},computed:{ciudades:function(){return this.$store.state.appLocalidades.ciudades},estados:function(){return this.$store.state.appLocalidades.estados},zonas:function(){return this.$store.state.appLocalidades.zonas},barrios:function(){return this.$store.state.appLocalidades.barrios},paises:function(){return this.$store.state.appLocalidades.paises}},data:function(){return{imageData:"",imageDataPortada:"",file:"",genderOptions:[{text:"Masculino",value:"1"},{text:"Femenino",value:"2"}],tipo_documento:[{text:"Selecciona tu tipo de documento",value:null},{text:"Cedula de ciudadania",value:1},{text:"Cédula de extranjería",value:1},{text:"Pasaporte",value:2},{text:"ID",value:1}]}},methods:{getStates:function(){this.$root.$emit("estados")},getCiudades:function(){this.$root.$emit("ciudades")}}},q=S,L=t("2877"),P=Object(L["a"])(q,v,k,!1,null,null,null),A=P.exports,G=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("quill-editor",{staticClass:"border-bottom-0",attrs:{id:"quil-content",options:a.snowOption},model:{value:a.userdata.descripcion,callback:function(e){a.$set(a.userdata,"descripcion",e)},expression:"userdata.descripcion"}}),a._m(0)],1)},R=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"d-flex justify-content-end border-top-0",attrs:{id:"quill-toolbar"}},[t("button",{staticClass:"ql-bold"}),t("button",{staticClass:"ql-italic"}),t("button",{staticClass:"ql-underline"}),t("button",{staticClass:"ql-align"}),t("button",{staticClass:"ql-link"})])}],T=t("3b99"),U=t("c38f"),z=t.n(U),M=t("953d"),N={components:{BRow:f["a"],BCol:m["a"],BForm:B["a"],BFormGroup:C["a"],flatPickr:z.a,BFormInput:x["a"],vSelect:I.a,BFormRadioGroup:y["a"],BFormCheckboxGroup:T["a"],BButton:p["a"],quillEditor:M["quillEditor"]},data:function(){return{snowOption:{modules:{toolbar:"#quill-toolbar"},placeholder:"En este apartado, escribe toda la descripción necesaria para tus clientes."},data:{descripcion:""}}},props:{userdata:{type:Object,required:!0}}},J=N,V=(t("8d86"),Object(L["a"])(J,G,R,!1,null,null,null)),W=V.exports,H=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("b-form",[t("b-row",[t("input-social-icon",{attrs:{socialField:a.linkedin},model:{value:a.userdata.linkedin,callback:function(e){a.$set(a.userdata,"linkedin",e)},expression:"userdata.linkedin"}}),t("input-social-icon",{attrs:{socialField:a.facebook},model:{value:a.userdata.facebook,callback:function(e){a.$set(a.userdata,"facebook",e)},expression:"userdata.facebook"}}),t("input-social-icon",{attrs:{socialField:a.instagram},model:{value:a.userdata.instagram,callback:function(e){a.$set(a.userdata,"instagram",e)},expression:"userdata.instagram"}})],1)],1)},K=[],Q=t("5e12"),X=t("3656"),Y=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("b-col",{attrs:{cols:"12",md:"6",lg:"4"}},[t("b-form-group",{attrs:{label:a.socialField.label,"label-for":a.socialField.dataField}},[t("b-input-group",{staticClass:"input-group-merge"},[t("b-input-group-prepend",{attrs:{"is-text":""}},[t("feather-icon",{attrs:{size:"16",icon:a.socialField.icon}})],1),t("b-form-input",{attrs:{id:a.socialField.dataField,value:a.value,type:"url"},model:{value:a.value,callback:function(e){a.value=e},expression:"value"}})],1)],1)],1)},Z=[],aa={props:{value:{}},data:function(){return{localValue:this.value}},watch:{localValue:function(a){this.$emit("input",a)},value:function(a){this.localValue=a}}},ea={name:"inputSocialIcon",mixins:[aa],components:{BCol:m["a"],BFormGroup:C["a"],BFormInput:x["a"],BInputGroup:Q["a"],BInputGroupPrepend:X["a"]},props:{socialField:{type:Object,required:!0}}},ta=ea,sa=Object(L["a"])(ta,Y,Z,!1,null,null,null),oa=sa.exports,ra={components:{BRow:f["a"],BCol:m["a"],BForm:B["a"],BFormGroup:C["a"],BFormInput:x["a"],BButton:p["a"],BInputGroup:Q["a"],BInputGroupPrepend:X["a"],"input-social-icon":oa},data:function(){return{linkedin:{icon:"LinkedinIcon",dataField:"linkedin",label:"linkedin"},facebook:{icon:"FacebookIcon",dataField:"facebook",label:"facebook"},instagram:{icon:"InstagramIcon",dataField:"instagram",label:"instagram"}}},props:{userdata:{type:Object,required:!0}}},ia=ra,na=Object(L["a"])(ia,H,K,!1,null,null,null),la=na.exports,da=t("97b4"),ua=t("ed09"),ca=t("4360"),pa="appPerfil";ca["a"].hasModule(pa)||ca["a"].registerModule(pa,da["a"]),Object(ua["onUnmounted"])((function(){ca["a"].hasModule(pa)&&ca["a"].unregisterModule(pa)}));var ma={components:{BTab:n["a"],BTabs:l["a"],BCard:d["a"],BAlert:u["a"],BLink:c["a"],BButton:p["a"],BCol:m["a"],BFormFile:b["a"],BRow:f["a"],BMedia:_["a"],BAvatar:h["a"],quillEditor:M["quillEditor"],UserEditTabAccount:A,UserEditTabInformation:W,UserEditTabSocial:la,ToastificationContent:g["a"]},computed:{userdata_sessions:function(){return this.$store.state.userData.userData}},data:function(){return{userdatas:{id:null,email:null,genero:null,linkedin:null,facebook:null,instagram:null,cedula_persona:null,primer_nombre:null,foto_persona:null,descripcion:null,fecha_nacimiento:null,telefono_fijo:null,tipo_cliente:null,celular_movil:null,celular_whatsapp:null,direccion_persona:null,numero_cedula:null,codigo_pais:null,codigo_estado:null,codigo_ciudad:null},imageData:"",imageDataPortada:"",file:"",payLoad:null,datosbasico:[],descripcion:"",social:{},snowOption:{modules:{toolbar:"#quill-toolbar"},placeholder:"En este apartado, escribe toda la descripción necesaria para tus clientes."}}},created:function(){this.userdatas.id=this.userdata_sessions.id,this.userdatas.email=this.userdata_sessions.email,this.userdatas.genero=this.userdata_sessions.genero,this.userdatas.linkedin=this.userdata_sessions.linkedin,this.userdatas.facebook=this.userdata_sessions.facebook,this.userdatas.instagram=this.userdata_sessions.instagram,this.userdatas.cedula_persona=this.userdata_sessions.cedula_persona,this.userdatas.primer_nombre=this.userdata_sessions.primer_nombre,this.userdatas.descripcion=this.userdata_sessions.descripcion,this.userdatas.fecha_nacimiento=this.userdata_sessions.fecha_nacimiento,this.userdatas.celular_movil=this.userdata_sessions.celular_movil,this.userdatas.celular_whatsapp=this.userdata_sessions.celular_whatsapp,this.userdatas.direccion_persona=this.userdata_sessions.direccion_persona,this.userdatas.codigo_pais=this.userdata_sessions.id_pais,this.userdatas.tipo_cliente=this.userdata_sessions.tipo_cliente,this.userdatas.codigo_estado=this.userdata_sessions.id_estado,this.userdatas.codigo_ciudad=this.userdata_sessions.id_ciudad,this.userdatas.foto_persona=this.userdata_sessions.foto_persona,this.getImagenes(),this.getPaises(),null!=this.userdata_sessions.id_estado&&(this.getEstados(),null!=this.userdata_sessions.id_ciudad&&this.getCiudades())},mounted:function(){var a=this;this.$root.$on("estados",(function(){a.getEstados()})),this.$root.$on("ciudades",(function(){a.getCiudades()}))},methods:{getImagenes:function(){if(this.userdatas){var a=this.userdatas.foto_portada_persona,e=this.userdatas.foto_persona;"http"==e.substr(0,4)?this.imageData=e:this.imageData="/storage/"+e,null!=a&&("http"==a.substr(0,4)?this.imageDataPortada=a:this.imageDataPortada="/storage/"+a)}},enviarData:function(){var a=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var t,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,""!=a.userdatas.foto_persona&&t.append("foto_persona",a.userdatas.foto_persona),""!=a.userdatas.foto_portada_persona&&t.append("foto_portada_persona",a.userdatas.foto_portada_persona),s={linkedin:a.userdatas.linkedin,facebook:a.userdatas.facebook,instagram:a.userdatas.instagram},t.append("id",a.userdatas.id),t.append("telefono_fijo",a.userdatas.telefono_fijo),t.append("primer_nombre",a.userdatas.primer_nombre),t.append("whatsapp",a.userdatas.celular_whatsapp),t.append("genero",a.userdatas.genero),t.append("celular",a.userdatas.celular_movil),t.append("code_tipo_documento",1),t.append("direccion_persona",a.userdatas.direccion_persona),t.append("descripcion",a.userdatas.descripcion),t.append("numero_cedula",a.userdatas.numero_cedula),t.append("codigo_pais",a.userdatas.codigo_pais),t.append("codigo_estado",a.userdatas.codigo_estado),t.append("codigo_ciudad",a.userdatas.codigo_ciudad),t.append("social",JSON.stringify(s)),e.next=19,ca["a"].dispatch("appPerfil/updatePerfilAgente",t).then((function(e){var t=e.data.userData;localStorage.setItem("userData",JSON.stringify(t)),a.$store.commit("userData/UPDATE_USER_DATA",t),a.$ability.update(t.ability),a.$toast({component:g["a"],props:{title:"Actualizacion exitosa",icon:"EditIcon",variant:"success"}}),a.$router.push({name:"pages-profile-agente"})})).catch((function(){a.$toast({component:g["a"],props:{title:"Completa todos los campos",icon:"EditIcon",variant:"danger"}})}));case 19:case"end":return e.stop()}}),e)})))()},getPaises:function(){var a=this;return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$store.dispatch("appLocalidades/getPaises").then((function(){})).catch((function(a){}));case 2:case"end":return e.stop()}}),e)})))()},getEstados:function(){var a=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var t;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.userdatas.codigo_pais,e.next=3,a.$store.dispatch("appLocalidades/getStates",{codigo:t}).then((function(){})).catch((function(a){}));case 3:case"end":return e.stop()}}),e)})))()},getCiudades:function(){var a=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var t;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.userdatas.codigo_estado,e.next=3,a.$store.dispatch("appLocalidades/getCiudades",{codigo:t}).then((function(e){a.ciudades=e})).catch((function(a){}));case 3:case"end":return e.stop()}}),e)})))()},previewImage:function(a){var e=this,t=a.target;if(this.userdatas.foto_persona=t.files[0],t.files&&t.files[0]){var s=new FileReader;s.onload=function(a){e.imageData=a.target.result},s.readAsDataURL(t.files[0])}},previewImagePortada:function(a){var e=this,t=a.target;if(this.userdatas.foto_portada_persona=t.files[0],t.files&&t.files[0]){var s=new FileReader;s.onload=function(a){e.imageDataPortada=a.target.result},s.readAsDataURL(t.files[0])}},socio:function(a){var e=JSON.parse(localStorage.getItem("userData"));this.userdatas.id=e.id_user,this.userdatas.tipo_cliente="agentes"===a?"agentes":"socio_referidor"},validationTipoCliente:function(){this.enviarData()},toggleIndeterminate:function(){this.indeterminate=!this.indeterminate}}},ba=ma,fa=Object(L["a"])(ba,s,o,!1,null,null,null);e["default"]=fa.exports},"8d86":function(a,e,t){"use strict";t("057b")}}]);
//# sourceMappingURL=chunk-3ad731fe.0ce8e54b.js.map