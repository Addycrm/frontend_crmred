(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-171710e9"],{"138a":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vModal",class:{sideBar:e.sideBar,sideBarOverlay:e.sideBarOverlay},style:e.sideBar?{maxWidth:e.maxWidth[e.size]+"px",left:"auto",width:"100%"}:{overflowY:"auto"}},[r("div",{staticClass:"sideBarOverlay"}),r("div",{ref:"overlay",staticClass:"vModelOverlay"},[r("div",{staticClass:"vModalContainer",style:e.sideBar?{}:{maxWidth:e.maxWidth[e.size]+"px"}},[r("div",{staticClass:"vModalHeader"},[r("span",{staticClass:"text"},[e._v(e._s(e.titulo))]),r("div",{staticClass:"icons d-flex align-items-center justify-content-end flex-grow-1"},[e._t("optiosnHeader"),e.closeActive?r("a",{staticClass:"vModalClose",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.closeModal(t)}}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[r("path",{attrs:{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"}})])]):e._e()],2)]),r("div",{staticClass:"vModelContent"},[e._t("default")],2),e.footer?r("div",{staticClass:"vModalFooter"},[e._t("footer")],2):e._e()])])])},n=[],i={name:"vModal",props:{titulo:{type:String,default:"Titulo"},size:{type:String,default:"sm"},footer:{type:Boolean,default:!1},overlayClose:Boolean,sideBarOverlay:Boolean,sideBar:Boolean},data:function(){return{closeActive:!0,element:null}},computed:{maxWidth:function(){return{xxs:450,xs:700,sm:800,md:920,lg:1400}},closeOverlay:function(){var e=this;return function(t){var r=e.$refs["overlay"];t.target==r&&e.closeModal()}}},mounted:function(){this.sideBar||document.body.insertBefore(this.$el,null),this.sideBar&&!this.sideBarOverlay||(document.body.style.overflowY="hidden"),this.overlayClose&&window.addEventListener("click",this.closeOverlay)},destroyed:function(){document.body.style.overflowY="",this.overlayClose&&window.removeEventListener("click",this.closeOverlay)},methods:{closeModal:function(e){this.$emit("close",e)},closeState:function(e){[void 0,null,""].indexOf(e)?this.closeActive=e:this.closeActive=!this.closeActive}}},o=i,s=(r("b991"),r("2877")),l=Object(s["a"])(o,a,n,!1,null,"c9f22e20",null);t["a"]=l.exports},"2ea5":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"RolesPermisos"}},[r("b-container",[r("b-overlay",{attrs:{show:e.overlay}},e._l(e.goodTable,(function(t,a){return r("b-card",{key:a,scopedSlots:e._u([{key:"header",fn:function(){return[r("h2",{staticClass:"mb-0 mr-2"},[e._v(" "+e._s(t.titulo)+" ")]),t.btn?r("div",{staticClass:"d-flex align-items-center mr-auto"},[r("b-button",{staticClass:"text-nowrap d-flex align-items-center",attrs:{size:"md",variant:t.btn.variant},on:{click:function(r){return e.openModal(t.btn.modal)}}},[r("span",{staticClass:"align-middle"},[e._v(e._s(t.btn.texto))])])],1):e._e()]},proxy:!0}],null,!0)},[r("VueGoodTable",e._b({attrs:{styleClass:"vgt-table striped","search-options":{enabled:!0,placeholder:"Buscar..."}},scopedSlots:e._u([{key:"table-row",fn:function(a){return["foto_persona"===a.column.field?r("span",[r("b-avatar",{attrs:{size:"70px",variant:"light"}},[a.row["foto_persona"]?[-1!=a.row["foto_persona"].indexOf("cloudinary")?r("cld-image",{staticClass:"img-fluid mx-auto d-block",attrs:{"public-id":e._f("urlImages")(a.row["foto_persona"])}},[r("cld-transformation",{attrs:{"fetch-format":"png"}}),r("cld-transformation",{attrs:{gravity:"face",height:"70",width:"70",zoom:"0.4",crop:"thumb"}}),r("cld-transformation",{attrs:{radius:"300"}})],1):-1!=a.row["foto_persona"].indexOf("googleusercontent")?r("img",{staticClass:"img-fluid mx-auto d-block",attrs:{src:a.row["foto_persona"]}}):e._e()]:r("cld-image",{staticClass:"img-fluid mx-auto d-block",attrs:{"public-id":2==a.row["genero"]?"default/photo-default-male_elbsty":"default/photo-default-female_aqhcir"}},[r("cld-transformation",{attrs:{"fetch-format":"png"}}),r("cld-transformation",{attrs:{gravity:"face",height:"70",width:"70",zoom:"0.4",crop:"thumb"}}),r("cld-transformation",{attrs:{radius:"300"}})],1)],2)],1):"primer_nombre"===a.column.field?r("span",[r("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"title-tab",attrs:{title:a.row["primer_nombre"]}},[e._v(" "+e._s(a.row["primer_nombre"])+" ")])]):"roles"===a.column.field?r("span"):"actions"===a.column.field?r("span",{staticClass:"d-flex flex-wrap"},e._l(a.row["actions"],(function(t){return r("b-badge",{key:t.id,style:{margin:"5px"},attrs:{variant:"light-primary"}},[e._v(" "+e._s(t.title)+" ")])})),1):"genero"===a.column.field?r("span",{staticClass:"d-flex flex-wrap"},[a.formattedRow[a.column.field]?r("b-badge",{attrs:{variant:2==a.row.genero.id?"light-info":"light-danger"}},[e._v(" "+e._s(a.row.genero.name)+" ")]):e._e()],1):"settings"===a.column.field?r("span",{staticClass:"d-flex"},[e._l(t.config.btn,(function(t,n){return[r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],key:n,staticClass:"btn-icon d-flex justify-content-center align-items-center",attrs:{pill:"",title:t.texto,variant:t.variant},on:{click:function(r){return e.openModal(t.modal,a.row)}}},[r("svg",{style:{width:"1.25em",height:"1em",margin:"-0.5em",fontSize:"14px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor"}},[r("path",{attrs:{d:"M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"}})])])]}))],2):r("span",[e._v(" "+e._s(a.formattedRow[a.column.field])+" ")])]}}],null,!0)},"VueGoodTable",t.tabla,!1))],1)})),1)],1),r("transition",{attrs:{name:"fade"}},[e.modal.state?r("v-modal",{attrs:{titulo:e.modal.titulo,size:e.modal.size,footer:e.modal.footer},on:{close:function(t){e.modal.state=!1}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("b-overlay",{attrs:{show:e.overlay}},[r("b-button",{attrs:{variant:"success",disabled:e.overlay},on:{click:e.onSubmit}},[e._v(" "+e._s(e.modal.prop.row?"Guardar":"Crear")+" ")])],1)]},proxy:!0}],null,!1,1927607085)},[r(e.modal.is,e._b({ref:"modal",tag:"component"},"component",e.modal.prop,!1))],1):e._e()],1)],1)},n=[],i=r("c7eb"),o=r("1da1"),s=r("a2f9"),l=r("138a"),u=r("f617"),c=r("98dd"),d={name:"UserList",mixins:[s["a"]],components:{VModal:l["a"],VueGoodTable:u["a"],FormUser:c["a"]},data:function(){return{overlay:!1,modal:{state:!1},apiOptions:[{api:"appUser/getUsers",data:{}},{api:"appUser/getRolesUsers",data:{}}]}},computed:{appUsers:function(){return this.$store.state.appUser},goodTable:function(){return[{titulo:"Agentes",btn:{texto:"Crear Agente",variant:"info",modal:{titulo:"Crear Agente",is:"FormUser"}},config:{prop:"",btn:[{variant:"success",texto:"Editar Agente",modal:{titulo:"Editar Agente",is:"FormUser"}}]},tabla:{columns:[{tdClass:"align-middle",field:"id",label:"ID",width:"6em"},{tdClass:"align-middle",field:"foto_persona",label:"Foto",width:"80px"},{tdClass:"align-middle",field:"primer_nombre",label:"Agente",width:"18em"},{tdClass:"align-middle",field:"email",label:"Email"},{tdClass:"align-middle",field:"genero",label:"Género"},{tdClass:"align-middle",field:"roles",label:"Rol"},{tdClass:"align-middle",field:"settings",label:"Ajustes",width:"8em"}],rows:this.appUsers.users}}]}},mounted:function(){this.initApis(this.apiOptions)},methods:{onSubmit:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.overlay=!0,t.next=3,e.$refs["modal"].onSubmit().then((function(t){e.modal.state=!t}));case 3:e.overlay=!1;case 4:case"end":return t.stop()}}),t)})))()},openModal:function(e,t){void 0==e.footer&&Object.assign(e,{footer:!0}),e.prop||Object.assign(e,{prop:{}}),t&&Object.assign(e.prop,{row:t}),Object.assign(this.modal,{state:!0},e)}}},f=d,m=r("2877"),p=Object(m["a"])(f,a,n,!1,null,null,null);t["default"]=p.exports},"4c93":function(e,t,r){"use strict";r.r(t),r.d(t,"alpha",(function(){return u})),r.d(t,"alpha_dash",(function(){return f})),r.d(t,"alpha_num",(function(){return v})),r.d(t,"alpha_spaces",(function(){return g})),r.d(t,"between",(function(){return A})),r.d(t,"confirmed",(function(){return x})),r.d(t,"digits",(function(){return Z})),r.d(t,"dimensions",(function(){return q})),r.d(t,"double",(function(){return Pe})),r.d(t,"email",(function(){return z})),r.d(t,"excluded",(function(){return D})),r.d(t,"ext",(function(){return W})),r.d(t,"image",(function(){return H})),r.d(t,"integer",(function(){return J})),r.d(t,"is",(function(){return X})),r.d(t,"is_not",(function(){return re})),r.d(t,"length",(function(){return ie})),r.d(t,"max",(function(){return le})),r.d(t,"max_value",(function(){return de})),r.d(t,"mimes",(function(){return me})),r.d(t,"min",(function(){return be})),r.d(t,"min_value",(function(){return _e})),r.d(t,"numeric",(function(){return we})),r.d(t,"oneOf",(function(){return R})),r.d(t,"regex",(function(){return ke})),r.d(t,"required",(function(){return je})),r.d(t,"required_if",(function(){return Ne})),r.d(t,"size",(function(){return Me}));
/**
  * vee-validate v3.4.5
  * (c) 2020 Abdelrahman Awad
  * @license MIT
  */
var a={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ro:/^[A-ZĂÂÎŞŢ]*$/i,ru:/^[А-ЯЁ]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,el:/^[Α-ώ]*$/i},n={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ro:/^[A-ZĂÂÎŞŢ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,el:/^[Α-ώ\s]*$/i},i={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ro:/^[0-9A-ZĂÂÎŞŢ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,el:/^[0-9Α-ώ]*$/i},o={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ro:/^[0-9A-ZĂÂÎŞŢ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,el:/^[0-9Α-ώ_-]*$/i},s=function(e,t){var r=(void 0===t?{}:t).locale,n=void 0===r?"":r;return Array.isArray(e)?e.every((function(e){return s(e,{locale:n})})):n?(a[n]||a.en).test(e):Object.keys(a).some((function(t){return a[t].test(e)}))},l=[{name:"locale"}],u={validate:s,params:l},c=function(e,t){var r=(void 0===t?{}:t).locale,a=void 0===r?"":r;return Array.isArray(e)?e.every((function(e){return c(e,{locale:a})})):a?(o[a]||o.en).test(e):Object.keys(o).some((function(t){return o[t].test(e)}))},d=[{name:"locale"}],f={validate:c,params:d},m=function(e,t){var r=(void 0===t?{}:t).locale,a=void 0===r?"":r;return Array.isArray(e)?e.every((function(e){return m(e,{locale:a})})):a?(i[a]||i.en).test(e):Object.keys(i).some((function(t){return i[t].test(e)}))},p=[{name:"locale"}],v={validate:m,params:p},b=function(e,t){var r=(void 0===t?{}:t).locale,a=void 0===r?"":r;return Array.isArray(e)?e.every((function(e){return b(e,{locale:a})})):a?(n[a]||n.en).test(e):Object.keys(n).some((function(t){return n[t].test(e)}))},h=[{name:"locale"}],g={validate:b,params:h},_=function(e,t){var r=void 0===t?{}:t,a=r.min,n=r.max;return Array.isArray(e)?e.every((function(e){return!!_(e,{min:a,max:n})})):Number(a)<=e&&Number(n)>=e},y=[{name:"min"},{name:"max"}],A={validate:_,params:y},$=function(e,t){var r=t.target;return String(e)===String(r)},w=[{name:"target",isTarget:!0}],x={validate:$,params:w},C=function(e,t){var r=t.length;if(Array.isArray(e))return e.every((function(e){return C(e,{length:r})}));var a=String(e);return/^[0-9]*$/.test(a)&&a.length===r},k=[{name:"length",cast:function(e){return Number(e)}}],Z={validate:C,params:k},O=function(e,t,r){var a=window.URL||window.webkitURL;return new Promise((function(n){var i=new Image;i.onerror=function(){return n(!1)},i.onload=function(){return n(i.width===t&&i.height===r)},i.src=a.createObjectURL(e)}))},S=function(e,t){var r=t.width,a=t.height,n=[];e=Array.isArray(e)?e:[e];for(var i=0;i<e.length;i++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(e[i].name))return Promise.resolve(!1);n.push(e[i])}return Promise.all(n.map((function(e){return O(e,r,a)}))).then((function(e){return e.every((function(e){return e}))}))},j=[{name:"width",cast:function(e){return Number(e)}},{name:"height",cast:function(e){return Number(e)}}],q={validate:S,params:j},L=function(e,t){var r=(void 0===t?{}:t).multiple,a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r&&!Array.isArray(e)&&(e=String(e).split(",").map((function(e){return e.trim()}))),Array.isArray(e)?e.every((function(e){return a.test(String(e))})):a.test(String(e))},U=[{name:"multiple",default:!1}],z={validate:L,params:U};function N(e){return null===e||void 0===e}function V(e){return Array.isArray(e)&&0===e.length}function E(e){return"function"===typeof e}function M(e,t){return-1!==e.indexOf(t)}function B(e){return E(Array.from)?Array.from(e):F(e)}function F(e){for(var t=[],r=e.length,a=0;a<r;a++)t.push(e[a]);return t}var P=function(e,t){return Array.isArray(e)?e.every((function(e){return P(e,t)})):B(t).some((function(t){return t==e}))},R={validate:P},T=function(e,t){return!P(e,t)},D={validate:T},I=function(e,t){var r=new RegExp(".("+t.join("|")+")$","i");return Array.isArray(e)?e.every((function(e){return r.test(e.name)})):r.test(e.name)},W={validate:I},G=function(e){var t=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every((function(e){return t.test(e.name)})):t.test(e.name)},H={validate:G},Y=function(e){return Array.isArray(e)?e.every((function(e){return/^-?[0-9]+$/.test(String(e))})):/^-?[0-9]+$/.test(String(e))},J={validate:Y},K=function(e,t){var r=t.other;return e===r},Q=[{name:"other"}],X={validate:K,params:Q},ee=function(e,t){var r=t.other;return e!==r},te=[{name:"other"}],re={validate:ee,params:te},ae=function(e,t){var r=t.length;return!N(e)&&("string"===typeof e&&(e=B(e)),"number"===typeof e&&(e=String(e)),e.length||(e=B(e)),e.length===r)},ne=[{name:"length",cast:function(e){return Number(e)}}],ie={validate:ae,params:ne},oe=function(e,t){var r=t.length;return N(e)?r>=0:Array.isArray(e)?e.every((function(e){return oe(e,{length:r})})):String(e).length<=r},se=[{name:"length",cast:function(e){return Number(e)}}],le={validate:oe,params:se},ue=function(e,t){var r=t.max;return!N(e)&&""!==e&&(Array.isArray(e)?e.length>0&&e.every((function(e){return ue(e,{max:r})})):Number(e)<=r)},ce=[{name:"max",cast:function(e){return Number(e)}}],de={validate:ue,params:ce},fe=function(e,t){var r=new RegExp(t.join("|").replace("*",".+")+"$","i");return Array.isArray(e)?e.every((function(e){return r.test(e.type)})):r.test(e.type)},me={validate:fe},pe=function(e,t){var r=t.length;return!N(e)&&(Array.isArray(e)?e.every((function(e){return pe(e,{length:r})})):String(e).length>=r)},ve=[{name:"length",cast:function(e){return Number(e)}}],be={validate:pe,params:ve},he=function(e,t){var r=t.min;return!N(e)&&""!==e&&(Array.isArray(e)?e.length>0&&e.every((function(e){return he(e,{min:r})})):Number(e)>=r)},ge=[{name:"min",cast:function(e){return Number(e)}}],_e={validate:he,params:ge},ye=/^[٠١٢٣٤٥٦٧٨٩]+$/,Ae=/^[0-9]+$/,$e=function(e){var t=function(e){var t=String(e);return Ae.test(t)||ye.test(t)};return Array.isArray(e)?e.every(t):t(e)},we={validate:$e},xe=function(e,t){var r=t.regex;return Array.isArray(e)?e.every((function(e){return xe(e,{regex:r})})):r.test(String(e))},Ce=[{name:"regex",cast:function(e){return"string"===typeof e?new RegExp(e):e}}],ke={validate:xe,params:Ce},Ze=function(e,t){var r=(void 0===t?{allowFalse:!0}:t).allowFalse,a={valid:!1,required:!0};return N(e)||V(e)?a:!1!==e||r?(a.valid=!!String(e).trim().length,a):a},Oe=!0,Se=[{name:"allowFalse",default:!0}],je={validate:Ze,params:Se,computesRequired:Oe},qe=function(e){return V(e)||M([!1,null,void 0],e)||!String(e).trim().length},Le=function(e,t){var r,a=t.target,n=t.values;return n&&n.length?(Array.isArray(n)||"string"!==typeof n||(n=[n]),r=n.some((function(e){return e==String(a).trim()}))):r=!qe(a),r?{valid:!qe(e),required:r}:{valid:!0,required:r}},Ue=[{name:"target",isTarget:!0},{name:"values"}],ze=!0,Ne={validate:Le,params:Ue,computesRequired:ze},Ve=function(e,t){var r=t.size;if(isNaN(r))return!1;var a=1024*r;if(!Array.isArray(e))return e.size<=a;for(var n=0;n<e.length;n++)if(e[n].size>a)return!1;return!0},Ee=[{name:"size",cast:function(e){return Number(e)}}],Me={validate:Ve,params:Ee},Be=function(e,t){var r=t||{},a=r.decimals,n=void 0===a?0:a,i=r.separator,o=void 0===i?"dot":i,s={dot:".",comma:","},l=0===+n?"+":"{"+n+"}",u=new RegExp("^-?\\d+\\"+(s[o]||".")+"\\d"+l+"$");return Array.isArray(e)?e.every((function(e){return u.test(String(e))})):u.test(String(e))},Fe=[{name:"decimals",default:0},{name:"separator",default:"dot"}],Pe={validate:Be,params:Fe}},"94cb":function(e,t,r){},"98dd":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{attrs:{id:"FormUser"}},[r("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"Género"}},[r("b-radio-group",{attrs:{name:"genero"},model:{value:e.form.genero,callback:function(t){e.$set(e.form,"genero",t)},expression:"form.genero"}},[e._l(e.storeConfig.gender,(function(t){return[r("b-form-radio",{key:t.id,attrs:{state:e.errorState(a),value:t.id}},[e._v(" "+e._s(t.name)+" ")])]}))],2)],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"Nombre completo"}},[r("b-form-input",{attrs:{state:e.errorState(a),trim:""},model:{value:e.form.primer_nombre,callback:function(t){e.$set(e.form,"primer_nombre",t)},expression:"form.primer_nombre"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"Tipo de Documento",state:!(a.length>0)}},[r("v-select",{attrs:{"input-id":"tipo_documento",label:"nombre",options:e.storeConfig.document_type,reduce:function(e){return e.id},clearable:!1},model:{value:e.form.tipo_identificacion,callback:function(t){e.$set(e.form,"tipo_identificacion",t)},expression:"form.tipo_identificacion"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"N° de Identificación"}},[r("b-form-input",{attrs:{state:e.errorState(a),trim:""},model:{value:e.form.cedula_persona,callback:function(t){e.$set(e.form,"cedula_persona",t)},expression:"form.cedula_persona"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return["user"==e.type?r("b-form-group",{staticClass:"required",attrs:{label:"Role",state:!(a.length>0)}},[r("v-select",{attrs:{label:"nombre",options:e.roles,reduce:function(e){return e.id},clearable:!1},model:{value:e.form.roles,callback:function(t){e.$set(e.form,"roles",t)},expression:"form.roles"}})],1):r("b-form-group",{staticClass:"required",attrs:{label:"Tipo de Cliente",state:!(a.length>0)}},[r("v-select",{attrs:{label:"nombre",options:[{id:"agentes",nombre:"Inmobiliria"}],reduce:function(e){return e.id},clearable:!1},model:{value:e.form.tipo_cliente,callback:function(t){e.$set(e.form,"tipo_cliente",t)},expression:"form.tipo_cliente"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"E-mail"}},[r("b-form-input",{attrs:{state:e.errorState(a),trim:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"Celular"}},[r("vue-phone-number-input",{ref:"inputCelular",attrs:{error:a.length>0,"show-code-on-list":"","default-country-code":"CO","preferred-countries":["CO"],translations:{countrySelectorLabel:"Código país",countrySelectorError:"Elije un código",phoneNumberLabel:"Celular",example:"Ejemplo :"}},on:{update:function(t){e.form.celular_movil=t.nationalNumber,e.wame.number=t.e164,e.wame.state&&(e.phone.celular_whatsapp=t.e164),e.exampleLabel(t)}},model:{value:e.phone.celular_movil,callback:function(t){e.$set(e.phone,"celular_movil",t)},expression:"phone.celular_movil"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"WhatsApp"}},[r("vue-phone-number-input",{ref:"whatsapp",attrs:{error:a.length>0,"show-code-on-list":"","default-country-code":"CO","preferred-countries":["CO"],translations:{countrySelectorLabel:"Código país",countrySelectorError:"Elije un código",phoneNumberLabel:"WhatsApp",example:"Ejemplo :"},disabled:e.wame.state},on:{update:function(t){e.form.celular_whatsapp=t.e164}},model:{value:e.phone.celular_whatsapp,callback:function(t){e.$set(e.phone,"celular_whatsapp",t)},expression:"phone.celular_whatsapp"}})],1)]}}],null,!0)}),r("b-form-checkbox",{staticClass:"mb-0 mt-1",attrs:{id:"wame",name:"wame"},model:{value:e.wame.state,callback:function(t){e.$set(e.wame,"state",t)},expression:"wame.state"}},[e._v(" Usar el mismo numero de Celular ")])],1),r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"Dirección"}},[r("b-form-input",{attrs:{state:e.errorState(a),trim:""},model:{value:e.form.direccion_persona,callback:function(t){e.$set(e.form,"direccion_persona",t)},expression:"form.direccion_persona"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{name:"País",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"País",state:!(a.length>0)}},[r("v-select",{attrs:{label:"name",options:e.storeConfig.country,reduce:function(e){return e.id},clearable:!1},on:{input:function(t){return e.resetUbicacion("id_pais")}},model:{value:e.ubicaciones["id_pais"].value,callback:function(t){e.$set(e.ubicaciones["id_pais"],"value",t)},expression:"ubicaciones['id_pais'].value"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{name:"Departamento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"Departamento",state:!(a.length>0)}},[r("v-select",{attrs:{label:"name",options:e.ubicaciones["id_estado"].options,reduce:function(e){return e.id},disabled:0==e.ubicaciones["id_estado"].options.length,clearable:!1},on:{input:function(t){return e.resetUbicacion("id_estado")}},model:{value:e.ubicaciones["id_estado"].value,callback:function(t){e.$set(e.ubicaciones["id_estado"],"value",t)},expression:"ubicaciones['id_estado'].value"}})],1)]}}],null,!0)})],1),r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{name:"Ciudad",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("b-form-group",{staticClass:"required",attrs:{label:"Ciudad",state:!(a.length>0)}},[r("v-select",{attrs:{label:"name",options:e.ubicaciones["id_ciudad"].options,reduce:function(e){return e.id},clearable:!1,disabled:0==e.ubicaciones["id_ciudad"].options.length},on:{input:function(t){return e.resetUbicacion("id_ciudad")}},model:{value:e.ubicaciones["id_ciudad"].value,callback:function(t){e.$set(e.ubicaciones["id_ciudad"],"value",t)},expression:"ubicaciones['id_ciudad'].value"}})],1)]}}],null,!0)})],1)],1),t.failed?r("div",{staticClass:"list-error"},[r("div",{staticClass:"alert alert-danger p-1 mb-0 flex-grow-1 text-center",style:{fontSize:"14px"}},[r("p",[e._v("Uno o más campos obligatorios se encuentran vacios, Valida e intenta nuevamente. ")])])]):e._e()]}}])})],1)},n=[],i=r("c7eb"),o=r("1da1"),s=r("ade3"),l=(r("d3b7"),r("159b"),r("b64b"),r("ac1f"),r("5319"),r("fb6a"),r("b0c0"),r("a434"),r("223c")),u=r("7bb1"),c=r("4c93"),d=r("4a7a"),f=r.n(d),m={name:"FormUser",components:{ValidationProvider:u["b"],ValidationObserver:u["a"],vSelect:f.a},props:{row:Object,type:{type:String,default:function(){return"user"}}},data:function(){return Object(u["e"])("eager"),Object.keys(c).forEach((function(e){Object(u["c"])(e,c[e])})),{exampleNumber:10,phone:{celular_movil:null,celular_whatsapp:null},wame:{state:!1,number:null},form:{foto_persona:"https://crmred.co/storage/1671656115-png",primer_nombre:null,tipo_identificacion:null,cedula_persona:null,roles:null,tipo_cliente:null,genero:null,email:null,celular_movil:null,celular_whatsapp:null,direccion_persona:null,id_pais:null,id_estado:null,id_ciudad:null},ubicaciones:{id_pais:{value:null,props:{api:"appLocalidades/getStates",name:"Departamentos"}},id_estado:{value:null,options:[],props:{api:"appLocalidades/getCiudades",name:"Ciudades"}},id_ciudad:{options:[],value:null}}}},watch:{"wame.state":function(e){e&&(this.form.celular_whatsapp=this.wame.number,this.phone.celular_whatsapp=this.phone.celular_movil)},"phone.celular_movil":function(){this.phone.celular_movil=this.validateLengthNum(this.phone.celular_movil)},"phone.celular_whatsapp":function(){this.phone.celular_whatsapp=this.validateLengthNum(this.phone.celular_whatsapp)}},computed:{storeConfig:function(){return this.$store.state.appConfiguracion.options},roles:function(){return this.$store.state.appUser.roles_users}},mounted:function(){this.watchUbicaciones(),this.row&&this.setForm(this.row)},methods:{validateLengthNum:function(e){if(null!=e){var t=e.replace(/\s+/g,"");return t.length>=this.exampleNumber?t.slice(0,this.exampleNumber):e}},exampleLabel:function(e){var t=this.$refs["inputCelular"].$children[1].$refs.label.innerText;"Celular"!=t&&(t=t.split(":")[1].replace(/\s+/g,""),this.exampleNumber=t.length)},setForm:function(e){for(var t in this.form)if(e[t])switch(t){case"celular_movil":case"celular_whatsapp":Object.assign(this.phone,Object(s["a"])({},t,e["celular_movil"])),Object.assign(this.form,Object(s["a"])({},t,e[t]));break;case"id_pais":case"id_estado":case"id_ciudad":Object.assign(this.ubicaciones[t],{value:e[t].id});break;default:Object.assign(this.form,Object(s["a"])({},t,e[t].id?e[t].id:e[t]))}this.phone["celular_movil"]==this.phone["celular_whatsapp"]&&Object.assign(this.wame,{state:!0,number:e["celular_whatsapp"]})},errorState:function(e){return!(e.length>0)&&null},onSubmit:function(){var e=this;return new Promise((function(t){e.$refs["form"].validate().then((function(r){r?(e.row&&Object.assign(e.form,{id:e.row.id}),e.$store.dispatch(e.row?"appUser/updatedUser":"appUser/addUser",e.form).then((function(r){r?e.row?e.$toast({component:l["a"],position:"top-center",props:{icon:"CheckCircleIcon",title:"Agente Actualizado",variant:"success",text:"Los Datos del Agente fueron actualizados exitosamente"}}):e.$toast({component:l["a"],position:"top-center",props:{icon:"CheckCircleIcon",title:"Agente Registrado",variant:"success",text:"El Agente fue registrado exitosamente"}}):e.$toast({component:l["a"],position:"top-center",props:{title:"Algo salio mal",icon:"AlertCircleIcon",variant:"danger",text:"Si el problema persiste actualiza la pagina, si el problema persiste comunicate con soporte"}}),t(r)}))):t(r)}))}))},watchUbicaciones:function(){var e=this,t=function(t){e.$watch((function(){return e.ubicaciones[t].value}),(function(r){Object.assign(e.form,Object(s["a"])({},t,r));var a=Object.keys(e.ubicaciones);if(t!=a[a.length-1]&&null!=r){var n=a.indexOf(t);e.getUbicacion({codigo:r,prop:a[n+1],api:e.ubicaciones[t].props.api,name:e.ubicaciones[t].props.name})}}))};for(var r in this.ubicaciones)t(r)},resetUbicacion:function(e){var t=Object.keys(this.ubicaciones),r=t.indexOf(e);t.shift(),t.splice(0,r);for(var a=0,n=t;a<n.length;a++){var i=n[a];Object.assign(this.form,Object(s["a"])({},i,null)),Object.assign(this.ubicaciones[i],{value:null,options:[]})}},getUbicacion:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function r(){var a,n,o,s;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.codigo,n=e.api,o=e.name,s=e.prop,r.next=3,t.$store.dispatch(n,{codigo:a}).then((function(e){t.ubicaciones[s].options=e})).catch((function(e){console.error(o,e)}));case 3:case"end":return r.stop()}}),r)})))()}}},p=m,v=r("2877"),b=Object(v["a"])(p,a,n,!1,null,"54809280",null);t["a"]=b.exports},a2f9:function(e,t,r){"use strict";var a=r("c7eb"),n=r("b85c"),i=r("1da1");r("3ca3"),r("ddb0");t["a"]={setup:function(){return{api:[]}},mounted:function(){this.initApis(this.api)},methods:{initApis:function(e){var t=this;return Object(i["a"])(Object(a["a"])().mark((function r(){var i,o,s;return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:i=Object(n["a"])(e),r.prev=1,s=Object(a["a"])().mark((function e(){var r,n,i,s,l;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.value,n=r.api,r.data,i=r.start,s=r.then,l=r.end,r.params,i&&i(),e.next=5,t.$store.dispatch(n,r.data).then((function(){s&&s()}));case 5:l&&l();case 6:case"end":return e.stop()}}),e)})),i.s();case 4:if((o=i.n()).done){r.next=8;break}return r.delegateYield(s(),"t0",6);case 6:r.next=4;break;case 8:r.next=13;break;case 10:r.prev=10,r.t1=r["catch"](1),i.e(r.t1);case 13:return r.prev=13,i.f(),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[1,10,13,16]])})))()}}}},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("23cb"),i=r("a691"),o=r("50c4"),s=r("7b0b"),l=r("65f0"),u=r("8418"),c=r("1dde"),d=r("ae40"),f=c("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,b=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!m},{splice:function(e,t){var r,a,c,d,f,m,g=s(this),_=o(g.length),y=n(e,_),A=arguments.length;if(0===A?r=a=0:1===A?(r=0,a=_-y):(r=A-2,a=v(p(i(t),0),_-y)),_+r-a>b)throw TypeError(h);for(c=l(g,a),d=0;d<a;d++)f=y+d,f in g&&u(c,d,g[f]);if(c.length=a,r<a){for(d=y;d<_-a;d++)f=d+a,m=d+r,f in g?g[m]=g[f]:delete g[m];for(d=_;d>_-a+r;d--)delete g[d-1]}else if(r>a)for(d=_-a;d>y;d--)f=d+a-1,m=d+r-1,f in g?g[m]=g[f]:delete g[m];for(d=0;d<r;d++)g[d+y]=arguments[d+2];return g.length=_-a+r,c}})},b991:function(e,t,r){"use strict";r("94cb")}}]);
//# sourceMappingURL=chunk-171710e9.62a2461a.js.map