(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93a88ae0"],{1801:function(t,e,a){},"6b76":function(t,e,a){"use strict";a("1801")},"96f4":function(t,e,a){"use strict";var o,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-overlay",{attrs:{show:t.overlay}},[a("form-wizard",{ref:"wizardForm",staticClass:"wizard-vertical",attrs:{color:"#7367F0",title:null,subtitle:null,layout:"editar"!=t.type?"vertical":"horizontal"},scopedSlots:t._u([{key:"footer",fn:function(e){return"registrar"!=t.type?[a("b-button",{attrs:{variant:e.isLastStep?"success":"primary",disabled:t.overlay},on:{click:function(a){e.isLastStep?t.wizardFormValidate(e.activeTabIndex):e.nextTab()}}},[a("span",{staticClass:"align-middle"},[t._v(t._s(e.isLastStep?"Guardar":"Siguiente"))])])]:void 0}}],null,!0)},[a("tab-content",{attrs:{title:"Información básica",icon:"feather icon-user","before-change":function(){return t.wizardFormValidate("wizardFormBasica")}}},[a("ValidationObserver",{ref:"wizardFormBasica",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.failed;return[a("b-row",[a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",[a("b-media",{scopedSlots:t._u([{key:"aside",fn:function(){return[a("b-avatar",{attrs:{src:t.image,size:"90px",rounded:""}})]},proxy:!0}],null,!0)},[a("h4",{staticClass:"mb-1"},[t._v("Logo de la Empresa")]),a("button",{staticClass:"btn__foto-perfil btn btn-primary",on:{click:t.showModalImage}},[a("span",{staticClass:"modify_image"},[t._v(" Modificar foto perfil ")]),a("span",{staticClass:"load_image"},[t._v(" Cargar ")])])])],1)],1),a("div",{staticClass:"w-100"}),a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{staticClass:"required",attrs:{label:"Nombre o Razón social"}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("b-form-input",{attrs:{state:!(o.length>0)&&null,id:"razon_social",name:"razon_social",placeholder:"Nombre o Razon social"},on:{input:t.slug},model:{value:t.form.razon_social,callback:function(e){t.$set(t.form,"razon_social",e)},expression:"form.razon_social"}})]}}],null,!0)})],1)],1),a("b-col",[a("b-row",[a("b-col",{attrs:{ms:"12",md:"6",ls:"8",xl:"8"}},[a("b-form-group",{attrs:{label:"Doumento"}},[a("b-form-input",{attrs:{id:"nit",name:"nit"},model:{value:t.form.nit,callback:function(e){t.$set(t.form,"nit",e)},expression:"form.nit"}})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"4",xl:"4"}},[a("b-form-group",{attrs:{label:"DV"}},[a("b-form-input",{attrs:{id:"dv",name:"dv"},model:{value:t.form.dv,callback:function(e){t.$set(t.form,"dv",e)},expression:"form.dv"}})],1)],1)],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"4"}},[a("b-form-group",{staticClass:"required",attrs:{label:"URL de la empresa"}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("b-input-group",{staticClass:"input-group-merge",attrs:{append:".inmob.site"}},[a("b-form-input",{attrs:{state:!(o.length>0)&&null,id:"slug_empresa",name:"slug_empresa",placeholder:"Nombre o Razon social"},on:{input:t.slug},model:{value:t.form.slug,callback:function(e){t.$set(t.form,"slug",e)},expression:"form.slug"}})],1)]}}],null,!0)}),a("div",[a("span",[t._v("Dominio: ")]),a("span",[t._v(t._s(t.form.slug)+".inmob.site")])])],1)],1),a("div",{staticClass:"w-100"}),a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"4"}},[a("b-form-group",{staticClass:"required",attrs:{label:"Correo electrónico"}},[a("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("b-form-input",{attrs:{state:!(o.length>0)&&null,id:"email",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})]}}],null,!0)})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"4",xl:"4"}},[a("b-form-group",{attrs:{label:"Teléfono"}},[a("b-form-input",{attrs:{id:"telefono",type:"text"},model:{value:t.form.telefono,callback:function(e){t.$set(t.form,"telefono",e)},expression:"form.telefono"}})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"4",xl:"4"}},[a("b-form-group",{staticClass:"required",attrs:{label:"Celular"}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("vue-phone-number-input",{ref:"inputCelular",attrs:{"default-country-code":t.userdata.phonecode,error:o.length>0,translations:{countrySelectorLabel:"Código país",countrySelectorError:"Elije un código",phoneNumberLabel:"Celular",example:"Ejemplo :"}},on:{update:function(e){t.form.celular=e.nationalNumber,t.exampleLabel(e)}},model:{value:t.form.celular,callback:function(e){t.$set(t.form,"celular",e)},expression:"form.celular"}})]}}],null,!0)})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"4",xl:"4"}},[a("b-form-group",{attrs:{label:"Página Web"}},[a("b-form-input",{attrs:{id:"pagina_web",type:"text"},model:{value:t.form.pagina_web,callback:function(e){t.$set(t.form,"pagina_web",e)},expression:"form.pagina_web"}})],1)],1),a("div",{staticClass:"w-100"}),a("b-col",{attrs:{ms:"12",md:"6",ls:"4",xl:"4"}},[a("b-form-group",{attrs:{label:"Color Principal",description:"Se usara para resaltar elementor importantes en el sitio web de la cuenta."}},[a("b-form-input",{attrs:{id:"color_primario",name:"color_primario",type:"color"},model:{value:t.form.color_primario,callback:function(e){t.$set(t.form,"color_primario",e)},expression:"form.color_primario"}})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"4",xl:"4"}},[a("b-form-group",{attrs:{label:"Color Secundario",description:"Es un color complementario."}},[a("b-form-input",{attrs:{id:"color_secundario",name:"color_secundario",type:"color"},model:{value:t.form.color_secundario,callback:function(e){t.$set(t.form,"color_secundario",e)},expression:"form.color_secundario"}})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"4",xl:"4"}},[a("b-form-group",{attrs:{label:"Color de fuente",description:"Es el color principal del texto del sitio web."}},[a("b-form-input",{attrs:{id:"color_fuente",name:"color_fuente",type:"color"},model:{value:t.form.font_color,callback:function(e){t.$set(t.form,"font_color",e)},expression:"form.font_color"}})],1)],1)],1),o?a("div",{staticClass:"list-error"},[a("div",{staticClass:"alert alert-danger p-1 mb-0 flex-grow-1 text-center",style:{fontSize:"14px"}},[a("b",[t._v("Uno o más campos obligatorios no han sido registrados correctamente.")])])]):t._e()]}}])})],1),a("tab-content",{attrs:{title:"Ubicación",icon:"feather icon-map-pin","before-change":function(){return t.wizardFormValidate("wizardFormUbicacion")}}},[a("ValidationObserver",{ref:"wizardFormUbicacion"},[a("b-row",[a("b-col",[a("b-row",[a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{attrs:{label:"País"}},[a("v-select",{attrs:{label:"name",options:t.storeConfig.country,reduce:function(t){return t.id},clearable:!1},on:{input:function(e){return t.resetUbicacion("id_pais")}},model:{value:t.ubicaciones["id_pais"].value,callback:function(e){t.$set(t.ubicaciones["id_pais"],"value",e)},expression:"ubicaciones['id_pais'].value"}})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{attrs:{label:"Departamento"}},[a("v-select",{attrs:{label:"name",options:t.ubicaciones["id_estado"].options,reduce:function(t){return t.id},disabled:0==t.ubicaciones["id_estado"].options.length,clearable:!1},on:{input:function(e){return t.resetUbicacion("id_estado")}},model:{value:t.ubicaciones["id_estado"].value,callback:function(e){t.$set(t.ubicaciones["id_estado"],"value",e)},expression:"ubicaciones['id_estado'].value"}})],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{attrs:{label:"Ciudad"}},[a("v-select",{attrs:{label:"name",options:t.ubicaciones["id_ciudad"].options,reduce:function(t){return t.id},disabled:0==t.ubicaciones["id_ciudad"].options.length,clearable:!1},on:{input:function(e){return t.resetUbicacion("id_ciudad")}},model:{value:t.ubicaciones["id_ciudad"].value,callback:function(e){t.$set(t.ubicaciones["id_ciudad"],"value",e)},expression:"ubicaciones['id_ciudad'].value"}})],1)],1)],1),a("b-row",{attrs:{"align-v":"center"}},[a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{attrs:{label:"Dirección"}},[a("b-input-group",[a("GmapAutocomplete",{staticClass:"form-control",attrs:{value:t.form.direccion,options:{fields:["geometry","formatted_address","address_components"]}},on:{place_changed:t.setPlace,input:t.setAddress}})],1)],1)],1),a("b-col",{style:{width:"10em"},attrs:{cols:"auto"}},[a("b-form-group",{attrs:{label:"Latitud"}},[a("b-form-input",{attrs:{id:"latitud",name:"latitud",type:"text"},model:{value:t.form.latitud,callback:function(e){t.$set(t.form,"latitud",e)},expression:"form.latitud"}})],1)],1),a("b-col",{staticClass:"p-0 pt-1",attrs:{cols:"auto"}},[t._v(" - ")]),a("b-col",{style:{width:"10em"},attrs:{cols:"auto"}},[a("b-form-group",{attrs:{label:"Longitud"}},[a("b-form-input",{attrs:{id:"longitud",name:"longitud",type:"text"},model:{value:t.form.longitud,callback:function(e){t.$set(t.form,"longitud",e)},expression:"form.longitud"}})],1)],1)],1)],1),a("b-col",[a("p",{staticClass:"mb-1"},[a("b-badge",{staticClass:"font-weight-bold",attrs:{variant:"light-warning"}},[t._v("En caso de que tu dirección no este registrada, "),a("b",[t._v("ubicala dando clic en el mapa.")])])],1),t.map.show?a("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:t.map.center,zoom:15},on:{click:t.clickMap}},t._l(t.map.markers,(function(e,o){return a("GmapMarker",{key:o,attrs:{position:e.position},on:{click:function(a){t.map.center=e.position}}})})),1):t._e()],1)],1)],1)],1),a("tab-content",{attrs:{title:"Descripción",icon:"feather icon-info","before-change":function(){return t.wizardFormValidate("wizardFormBasica")}}},[a("ValidationObserver",{ref:"wizardFormDescripcion"},[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Descripción de la Empresa"}},[a("div",{staticClass:"d-flex justify-content-center border-bottom-0",attrs:{id:"quill-description-toolbar"}},[a("button",{staticClass:"ql-bold"}),a("button",{staticClass:"ql-italic"}),a("button",{staticClass:"ql-underline"}),a("button",{staticClass:"ql-link"})]),a("quill-editor",{attrs:{options:t.descriptionOptions,id:"quill-description"},model:{value:t.form.descripcion,callback:function(e){t.$set(t.form,"descripcion",e)},expression:"form.descripcion"}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Misión"}},[a("div",{staticClass:"d-flex justify-content-end border-bottom-0",attrs:{id:"quill-mision-toolbar"}},[a("button",{staticClass:"ql-bold"}),a("button",{staticClass:"ql-italic"}),a("button",{staticClass:"ql-underline"}),a("button",{staticClass:"ql-link"})]),a("quill-editor",{attrs:{options:t.misionOptions,id:"quill-mision"},model:{value:t.form.mision,callback:function(e){t.$set(t.form,"mision",e)},expression:"form.mision"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Visión"}},[a("div",{staticClass:"d-flex justify-content-end border-bottom-0",attrs:{id:"quill-vision-toolbar"}},[a("button",{staticClass:"ql-bold"}),a("button",{staticClass:"ql-italic"}),a("button",{staticClass:"ql-underline"}),a("button",{staticClass:"ql-link"})]),a("quill-editor",{attrs:{options:t.visionOptions,id:"quill-vision"},model:{value:t.form.vision,callback:function(e){t.$set(t.form,"vision",e)},expression:"form.vision"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{attrs:{label:"Facebook"}},[a("b-input-group",[a("b-input-group-prepend",[a("i",{staticClass:"icon",staticStyle:{color:"#1b74e4"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[a("path",{attrs:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}})])])]),a("b-form-input",{attrs:{type:"url"},model:{value:t.form.facebook,callback:function(e){t.$set(t.form,"facebook",e)},expression:"form.facebook"}})],1)],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{attrs:{label:"Instagram"}},[a("b-input-group",[a("b-input-group-prepend",[a("i",{staticClass:"icon",staticStyle:{color:"#dd2a7b"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}})])])]),a("b-form-input",{attrs:{type:"url"},model:{value:t.form.instagram,callback:function(e){t.$set(t.form,"instagram",e)},expression:"form.instagram"}})],1)],1)],1),a("b-col",{attrs:{ms:"12",md:"6",ls:"6",xl:"6"}},[a("b-form-group",{attrs:{label:"LinkedIn"}},[a("b-input-group",[a("b-input-group-prepend",[a("i",{staticClass:"icon",staticStyle:{color:"#0a66c2"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}})])])]),a("b-form-input",{attrs:{type:"url"},model:{value:t.form.linkedin,callback:function(e){t.$set(t.form,"linkedin",e)},expression:"form.linkedin"}})],1)],1)],1)],1)],1),t.stateCropImage?a("v-modal",{ref:"modalInmueble",attrs:{titulo:"Imagen de perfil",responsive:"",size:"md"},on:{close:t.closeModal}},[a("selectImage",{tag:"component",attrs:{image:t.image},on:{closeModal:t.closeModal,adjustImage:t.imageSelected}})],1):t._e()],1)],1)],1)},r=[],n=a("c7eb"),s=a("1da1"),l=a("ade3"),c=(a("d3b7"),a("159b"),a("b64b"),a("99af"),a("ac1f"),a("5319"),a("fb6a"),a("b0c0"),a("a434"),a("498a"),a("a9e3"),a("d81d"),a("5e12")),u=a("2ee4"),m=(a("da93"),a("7bb1")),d=a("4c93"),p=a("223c"),f=a("4a7a"),b=a.n(f),g=a("c38f"),h=a.n(g),v=(a("4984"),a("138a")),w=a("0bea"),x=a("953d"),_={name:"EmpresaForm",components:{FormWizard:u["FormWizard"],BInputGroup:c["a"],TabContent:u["TabContent"],WizardButton:u["WizardButton"],ToastificationContent:p["a"],ValidationObserver:m["a"],ValidationProvider:m["b"],vSelect:b.a,flatPickr:h.a,quillEditor:x["quillEditor"],VModal:v["a"],selectImage:w["a"]},data:function(){return Object.keys(d).forEach((function(t){Object(m["c"])(t,d[t])})),{exampleNumber:10,image:null,stateCropImage:null,defaultPlace:"Colombia",overlay:!1,imagen_path:null,form:{id:null,logo:null,razon_social:null,nit:null,dv:null,slug:null,email:null,telefono:null,celular:null,pagina_web:null,color_primario:"#7367f0",color_secundario:"#4e3cff",font_color:"#444444",direccion:null,id_pais:null,id_estado:null,id_ciudad:null,latitud:null,longitud:null,descripcion:null,mision:null,vision:null,facebook:null,instagram:null,linkedin:null},dominio:null,ubicaciones:{id_pais:{value:null,props:{api:"appLocalidades/getStates",name:"Departamentos"}},id_estado:{value:null,options:[],props:{api:"appLocalidades/getCiudades",name:"Ciudades"}},id_ciudad:{value:null,options:[]}},wame:!1,currentPlace:null,map:{markers:[{position:{lat:3.4516467,lng:-76.5319854}}],center:{lat:3.4516467,lng:-76.5319854},show:!1},descriptionOptions:{modules:{toolbar:"#quill-description-toolbar"},placeholder:"Descripción del la empresa."},misionOptions:{modules:{toolbar:"#quill-mision-toolbar"},placeholder:"Misión de la empresa."},visionOptions:{modules:{toolbar:"#quill-vision-toolbar"},placeholder:"Visión de la empresa."}}},watch:(o={wame:function(t){t&&(this.form.whatsapp=this.form.celular)}},Object(l["a"])(o,"form.slug",(function(){this.slug(this.form.slug)})),Object(l["a"])(o,"form.celular",(function(){this.form.celular=this.validateLengthNum(this.form.celular)})),Object(l["a"])(o,"empresa",(function(t){this.setEmpresa(t)})),o),props:{type:{type:String,default:function(){return"registrar"}},row:{type:Object}},computed:{storeConfig:function(){return this.$store.state.appConfiguracion.options},infoPopUp:function(){return{content:'\n\t\t\t\t\t\t<h5 style="font-size: 14px;font-weight: 600;text-transform: uppercase;margin-bottom: 10px;">'.concat(this.form.razon_social,'</h5>\n\t\t\t\t\t\t<ul style="padding: 0;list-style: none;margin: 0;font-size: 12px;" >\n\t\t\t\t\t\t\t<li class="address"><b style="font-weight: 500;">').concat(this.form.direccion,"</b></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t"),pixelOffset:{width:0,height:-35}}},userdata:function(){return this.$store.state.userData.userData},empresa:function(){return this.$store.state.appConfiguracion.configuracion}},mounted:function(){switch(this.$refs["wizardForm"].activateAll(),this.watchUbicaciones(),this.type){case"editar":this.$store.dispatch("appConfiguracion/getEmpresa"),this.setEmpresa(this.empresa);break;case"modal":this.setEmpresa(this.row);break}},methods:{validateLengthNum:function(t){if(null!=t){var e=t.replace(/\s+/g,"");return e.length>=this.exampleNumber?e.slice(0,this.exampleNumber):t}},exampleLabel:function(t){var e=this.$refs["inputCelular"].$children[1].$refs.label.innerText;"Celular"!=e&&(e=e.split(":")[1].replace(/\s+/g,""),this.exampleNumber=e.length)},imageSelected:function(t,e){var a=this;return Object(s["a"])(Object(n["a"])().mark((function o(){return Object(n["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:a.imagen_path=t,a.image=e;case 2:case"end":return o.stop()}}),o)})))()},closeModal:function(){this.stateCropImage=!1},showModalImage:function(){this.stateCropImage=!0},watchUbicaciones:function(){var t=this,e=function(e){t.$watch((function(){return t.ubicaciones[e].value}),(function(a){Object.assign(t.form,Object(l["a"])({},e,a));var o=Object.keys(t.ubicaciones);if(e!=o[o.length-1]&&null!=a){var i=o.indexOf(e);t.getUbicacion({codigo:a,prop:o[i+1],api:t.ubicaciones[e].props.api,name:t.ubicaciones[e].props.name})}}))};for(var a in this.ubicaciones)e(a)},resetUbicacion:function(t){var e=Object.keys(this.ubicaciones),a=e.indexOf(t);e.shift(),e.splice(0,a);for(var o=0,i=e;o<i.length;o++){var r=i[o];Object.assign(this.form,Object(l["a"])({},r,null)),Object.assign(this.ubicaciones[r],{value:null,options:[]})}},slug:function(t){var e=t.replace("&","");e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),e=e.replace(/[^a-zA-Z ]/g,""),e=e.replace(/ /g,""),this.form.slug=e.toLowerCase().trim()},getEmpresa:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("appConfiguracion/getEmpresa").then().catch((function(t){console.error("appConfiguracion/getEmpresa",t)}));case 2:case"end":return e.stop()}}),e)})))()},setEmpresa:function(t){for(var e in this.form)if(t[e])switch(e){case"id_pais":case"id_estado":case"id_ciudad":Object.assign(this.ubicaciones[e],{value:t[e].id});break;case"latitud":Object.assign(this.form,{latitud:Number(t["latitud"]),longitud:Number(t["longitud"])}),Object.assign(this.map.center,{lat:Number(t["latitud"]),lng:Number(t["longitud"])}),Object.assign(this.map.markers[0].position,{lat:Number(t["latitud"]),lng:Number(t["longitud"])});break;case"logo":this.image=t[e];break;default:this.form[e]=t[e]}},wizardFormValidate:function(t){var e=this;return Object(s["a"])(Object(n["a"])().mark((function a(){var o;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o="string"==typeof t?e.$refs[t]:e.$refs["wizardForm"].$children[t].$children[0],a.next=3,o.validate().then(function(){var a=Object(s["a"])(Object(n["a"])().mark((function a(o){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("number"!=typeof t||!o){a.next=5;break}return e.overlay=!0,a.next=4,e.wizardFormComplete();case 4:e.overlay=!1;case 5:return a.abrupt("return",o);case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()},wizardFormComplete:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a,o;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(o in a=new FormData,t.form)"logo"!=o?null!=t.form[o]&&a.append(o,t.form[o]):t.imagen_path?a.append("logo",t.imagen_path,"name"+(new Date).getTime()+".jpeg"):a.append(o,t.image);return e.next=4,t.$http({url:"api/auth/agente/empresas",method:"post",data:a}).then((function(e){var a=e.data.data.empresa;t.$store.commit("appConfiguracion/SET_CONFIGURATION",a),t.$swal({title:"editar"!=t.type?"Registro exitoso":"Datos Actualizados",text:"editar"!=t.type?"Tu Empresa ha sido registrada exitosamente":"Tu Datos se han actualizado exitosamente",icon:"success",confirmButtonText:"Cerrar",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1}),"modal"==t.type&&t.$parent.closeModal(!1)})).catch((function(e){t.$toast({component:p["a"],props:{title:"Algo ha ocurrido",icon:"AlertCircleIcon",text:"Actualiza el navegador, si el problema persiste comunicate con nosotros",variant:"danger"}},{timeout:4e3})}));case 4:case"end":return e.stop()}}),e)})))()},wizardFormChange:function(t){1===t&&Object.assign(this.map,{show:!0})},setAddress:function(t){Object.assign(this.form,{direccion:t.target.value})},setPlace:function(t){if(t.name)Object.assign(this.form,{direccion:t.name});else{Object.assign(this.form,{direccion:t.formatted_address,latitud:t.geometry.location.lat(),longitud:t.geometry.location.lng()});var e={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()};Object.assign(this.map.markers[0].position,e),Object.assign(this.map.center,e)}},clickMap:function(t){var e={lat:t.latLng.lat(),lng:t.latLng.lng()};Object.assign(this.form,{latitud:e.lat,longitud:e.lng}),Object.assign(this.map.markers[0].position,e)},getUbicacion:function(t){var e=this;return Object(s["a"])(Object(n["a"])().mark((function a(){var o,i,r;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.codigo,i=t.api,t.name,r=t.prop,a.next=3,e.$store.dispatch(i,{codigo:o}).then((function(t){e.ubicaciones[r].options=t})).catch((function(t){}));case 3:case"end":return a.stop()}}),a)})))()},previewImage:function(t){var e=this,a=t.target;if(this.form.logo=a.files[0],a.files&&a.files[0]){var o=new FileReader;o.onload=function(t){e.image=t.target.result},o.readAsDataURL(a.files[0])}}}},C=_,k=(a("6b76"),a("f0c3"),a("2877")),y=Object(k["a"])(C,i,r,!1,null,null,null);e["a"]=y.exports},a10e:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("EmpresaForm",{tag:"components",attrs:{type:"editar"}})},i=[],r=a("96f4"),n={name:"configuracionInit",components:{EmpresaForm:r["a"]}},s=n,l=a("2877"),c=Object(l["a"])(s,o,i,!1,null,"b068e11e",null);e["default"]=c.exports},b489:function(t,e,a){},da93:function(t,e,a){},f0c3:function(t,e,a){"use strict";a("b489")}}]);
//# sourceMappingURL=chunk-93a88ae0.a0a4064f.js.map