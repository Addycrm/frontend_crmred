(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-104f9b5c"],{"0224":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"OpcionesInmueble"}},[o("b-container",t._l(t.goodTable,(function(e,a){return o("b-card",{key:a},[o("h3",{staticClass:"mb-2"},[t._v(" "+t._s(e.titulo)+" ")]),o("VueGoodTable",t._b({attrs:{styleClass:"vgt-table striped"},scopedSlots:t._u([{key:"table-row",fn:function(a){return["texto"==a.column.field?o("span",[o("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"title-tab",attrs:{title:a.formattedRow[a.column.field]}},[t._v(" "+t._s(a.formattedRow[a.column.field])+" ")])]):"actions"===a.column.field?o("span",{staticClass:"d-flex"},[o("b-button",{attrs:{size:"sm",variant:"primary",disabled:0==t.portales.length},on:{click:function(o){return t.openModal(a.row,e.config)}}},[t._v(" Portales ")])],1):o("span",[t._v(" "+t._s(a.formattedRow[a.column.field])+" ")])]}},{key:"pagination-bottom",fn:function(a){return[o("div",{staticClass:"d-flex flex-wrap align-items-center mt-1"},[o("div",{staticClass:"d-flex align-items-center"},[o("span",{staticClass:"text-nowrap"},[t._v(" Mostrando 1 a ")]),o("b-form-select",{staticClass:"mx-1",attrs:{options:["10","20","100"]},on:{input:function(t){return a.perPageChanged({currentPerPage:t})}},model:{value:e.tabla.paginationOptions.perPage,callback:function(o){t.$set(e.tabla.paginationOptions,"perPage",o)},expression:"item.tabla.paginationOptions.perPage"}}),o("span",{staticClass:"text-nowrap"},[t._v(" de "+t._s(a.total)+" registros ")])],1),a.total>e.tabla.paginationOptions.perPage?o("div",{staticClass:"d-flex ml-auto"},[o("b-pagination",{staticClass:"mb-0",attrs:{value:1,"total-rows":a.total,"per-page":e.tabla.paginationOptions.perPage,"first-number":"","last-number":"",align:"right","prev-class":"prev-item","next-class":"next-item"},on:{input:function(t){return a.pageChanged({currentPage:t})}},scopedSlots:t._u([{key:"prev-text",fn:function(){return[o("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[o("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}],null,!0)})],1):t._e()])]}}],null,!0)},"VueGoodTable",e.tabla,!1))],1)})),1),o("transition",{attrs:{name:"fade"}},[t.modal.state?o("v-modal",{attrs:{titulo:"Portales",size:"sm",footer:""},on:{close:function(e){t.modal.state=!1}},scopedSlots:t._u([{key:"footer",fn:function(){return[o("b-overlay",{attrs:{show:t.overlay}},[o("b-button",{attrs:{variant:"info"},on:{click:t.onSubmit}},[t._v(" Guardar ")])],1)]},proxy:!0}],null,!1,2860457135)},[o("FormCodePortales",t._b({ref:"FormCodePortales",tag:"component"},"component",t.modal,!1))],1):t._e()],1)],1)},s=[],i=o("c7eb"),n=o("1da1"),r=o("4a7a"),l=o.n(r),c=o("138a"),u=o("b641"),d=o("f617"),p=o("223c"),f={name:"OpcionesInmueble",components:{VModal:c["a"],vSelect:l.a,FormCodePortales:u["a"],VueGoodTable:d["a"]},data:function(){return{overlay:!1,modal:{state:!1}}},computed:{storeConfig:function(){return this.$store.state.appConfiguracion.options},portales:function(){return this.$store.state.appPortales.portales},goodTable:function(){return[{titulo:"Tipo de Inmueble",config:{prop:"portales_tipo_inmueble",config:{url:"api/auth/portales/tipo_inmueble_portal",method:"post"}},tabla:{columns:[{field:"id",label:"ID",width:"6em"},{field:"tipo",label:"Nombre",width:"12em"},{field:"actions",label:"Acciones",width:"10em"}],rows:this.storeConfig.property_type,paginationOptions:{enabled:!0,perPage:10}}},{titulo:"Tipo de Negocio",config:{prop:"portales_inmuebles_tipo_negocio",config:{url:"api/auth/portales/tipo_negocio_portal",method:"post"}},tabla:{columns:[{field:"id",label:"ID",width:"6em"},{field:"tipo",label:"Nombre",width:"12em"},{field:"actions",label:"Acciones",width:"10em"}],rows:this.storeConfig.business_type,paginationOptions:{enabled:!0,perPage:10}}}]}},mounted:function(){this.$store.dispatch("appPortales/fetchPortales")},methods:{onSubmit:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.overlay=!0,e.next=3,t.$refs["FormCodePortales"].onSubmit().then((function(e){var o={title:"Algo ha ocurrido",icon:"AlertCircleIcon",text:"Actualiza el navegador. Si el problema persiste comunicate con nosotros",variant:"danger"};e&&(t.modal.state=!1,o={title:"Actualizacion exitosa",icon:"CheckCircleIcon",text:"Tus datos se han actualizado exitosamente",variant:"success"}),t.$toast({component:p["a"],props:o})}));case 3:t.overlay=!1;case 4:case"end":return e.stop()}}),e)})))()},openModal:function(t,e){Object.assign(this.modal,{state:!0,row:t},e)}}},m=f,v=(o("c3f0"),o("2877")),b=Object(v["a"])(m,a,s,!1,null,"490e7c35",null);e["default"]=b.exports},"138a":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vModal",class:{sideBar:t.sideBar,sideBarOverlay:t.sideBarOverlay},style:t.sideBar?{maxWidth:t.maxWidth[t.size]+"px",left:"auto",width:"100%"}:{overflowY:"auto"}},[o("div",{staticClass:"sideBarOverlay"}),o("div",{ref:"overlay",staticClass:"vModelOverlay"},[o("div",{staticClass:"vModalContainer",style:t.sideBar?{}:{maxWidth:t.maxWidth[t.size]+"px"}},[o("div",{staticClass:"vModalHeader"},[o("span",{staticClass:"text"},[t._v(t._s(t.titulo))]),o("div",{staticClass:"icons d-flex align-items-center justify-content-end flex-grow-1"},[t._t("optiosnHeader"),t.closeActive?o("a",{staticClass:"vModalClose",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeModal(e)}}},[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[o("path",{attrs:{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"}})])]):t._e()],2)]),o("div",{staticClass:"vModelContent"},[t._t("default")],2),t.footer?o("div",{staticClass:"vModalFooter"},[t._t("footer")],2):t._e()])])])},s=[],i={name:"vModal",props:{titulo:{type:String,default:"Titulo"},size:{type:String,default:"sm"},footer:{type:Boolean,default:!1},overlayClose:Boolean,sideBarOverlay:Boolean,sideBar:Boolean},data:function(){return{closeActive:!0,element:null}},computed:{maxWidth:function(){return{xxs:450,xs:700,sm:800,md:920,lg:1400}},closeOverlay:function(){var t=this;return function(e){var o=t.$refs["overlay"];e.target==o&&t.closeModal()}}},mounted:function(){this.sideBar||document.body.insertBefore(this.$el,null),this.sideBar&&!this.sideBarOverlay||(document.body.style.overflowY="hidden"),this.overlayClose&&window.addEventListener("click",this.closeOverlay)},destroyed:function(){document.body.style.overflowY="",this.overlayClose&&window.removeEventListener("click",this.closeOverlay)},methods:{closeModal:function(t){this.$emit("close",t)},closeState:function(t){[void 0,null,""].indexOf(t)?this.closeActive=t:this.closeActive=!this.closeActive}}},n=i,r=(o("b991"),o("2877")),l=Object(r["a"])(n,a,s,!1,null,"c9f22e20",null);e["a"]=l.exports},"1a52":function(t,e,o){"use strict";o("433c")},"433c":function(t,e,o){},"94cb":function(t,e,o){},ad01:function(t,e,o){},b641:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"FormCodePortales"}},[o("b-form",[o("ul",{staticClass:"portales-inmueble"},[t._l(t.portales,(function(e){return t.portales.length>0?[o("li",{key:e.id,staticClass:"item-portales-inmueble"},[o("img",{attrs:{src:e.image,alt:"",srcset:""}}),e.value?o("b-form-input",{staticClass:"mt-1 mx-auto text-center",attrs:{size:"sm"},model:{value:e.value.codigo,callback:function(o){t.$set(e.value,"codigo",o)},expression:"item.value.codigo"}}):t._e()],1)]:t._e()}))],2)])],1)},s=[],i=o("ade3"),n=o("b85c"),r=(o("d3b7"),o("4360"),{props:{config:Object,row:Object,prop:String},mounted:function(){this.setCode()},computed:{portales:function(){return this.$store.state.appPortales.portales}},methods:{setCode:function(){var t,e=Object(n["a"])(this.portales);try{for(e.s();!(t=e.n()).done;){var o=t.value;o.value.codigo=null;var a,s=Object(n["a"])(this.row[this.prop]);try{for(s.s();!(a=s.n()).done;){var i=a.value;o.id==i.portale_id&&Object.assign(o.value,{codigo:i.codigo})}}catch(r){s.e(r)}finally{s.f()}}}catch(r){e.e(r)}finally{e.f()}},onSubmit:function(){var t,e=this,o=[],a=Object(n["a"])(this.portales);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.value.codigo&&o.push(s.value)}}catch(l){a.e(l)}finally{a.f()}var r={portales:o,id:this.row.id};return Object.assign(this.config,{data:r}),new Promise((function(t){e.$http(e.config).then((function(o){Object.assign(e.row,Object(i["a"])({},e.prop,o.data.data)),t(!0)})).catch((function(e){console.error(e),t(!1)}))}))}}}),l=r,c=(o("1a52"),o("2877")),u=Object(c["a"])(l,a,s,!1,null,"6c3b5d5f",null);e["a"]=u.exports},b991:function(t,e,o){"use strict";o("94cb")},c3f0:function(t,e,o){"use strict";o("ad01")}}]);
//# sourceMappingURL=chunk-104f9b5c.a7c53789.js.map